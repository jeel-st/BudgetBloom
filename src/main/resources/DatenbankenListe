CREATE TABLE users (
	id SERIAL UNIQUE,
	username VARCHAR(20) UNIQUE NOT NULL,
	pword VARCHAR(30) NOT NULL,
	email VARCHAR(70) NOT NULL,
	rdate DATE DEFAULT CURRENT_DATE,
	ldate DATE DEFAULT CURRENT_DATE
	);

INSERT INTO users VALUES (DEFAULT, 'tester', '123456789', 'tester@web.de');

CREATE TABLE konto+username(
    id SERIAL PRIMARY KEY,
    edate DATE DEFAULT CURRENT_DATE NOT NULL,
    note TEXT,
    amount NUMERIC NOT NULL,
    bankBalance NUMERIC NOT NULL,
    importance INTEGER CHECK(importance >= 0 AND importance <=10) NOT NULL,
    isregular BOOLEAN DEFAULT false NOT NULL,
    frequency VARCHAR(10) CHECK(frequency IN ('t채glich', 'monatlich', 'j채hrlich'))
);


ALTER TABLE users ADD numlogin INTEGER DEFAULT 0;
ALTER TABLE users ALTER numlogin SET NOT NULL;
UPDATE users SET numlogin = 0 WHERE username = 'tester';


ALTER TABLE kontotester ADD isregular BOOLEAN DEFAULT false NOT NULL;
ALTER TABLE kontotester ADD frequency VARCHAR(10) CHECK(frequency IN ('t채glich', 'monatlich', 'j채hrlich'));
